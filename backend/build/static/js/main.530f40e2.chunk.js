(this["webpackJsonpdate-selector"]=this["webpackJsonpdate-selector"]||[]).push([[0],{129:function(e,t,n){"use strict";n.r(t);var a,s,c,r,o,i,l,d,u,j,b,O,m,h,v=n(47),x=n(0),p=n(50),g=n.n(p),f=n(14),y=n(31),w=n.n(y),N=n(42),S=n(44),D=n(15),E=n(6),$=n(19),C=Object(E.gql)(a||(a=Object($.a)(["\nmutation login($username: String!, $password: String!){\n  login(username: $username, password: $password){value}\n}"]))),k=Object(E.gql)(s||(s=Object($.a)(["\nmutation addEvent($name: String! $group: String! $dates: [String!]!){\n  addEvent(name: $name, group: $group dates: $dates){name id}\n}"]))),q=Object(E.gql)(c||(c=Object($.a)(["\nmutation createUser($name: String! $username: String! $password: String!){\n  createUser(name: $name, username: $username, password: $password){name}\n}"]))),M=Object(E.gql)(r||(r=Object($.a)(["\nmutation addGroup($name: String! $users: [String]!){\n  createGroup(name: $name, users: $users){name}\n}"]))),I=Object(E.gql)(o||(o=Object($.a)(["\nmutation joinGroup($id: ID!){\n  joinGroup(id: $id){name}\n}"]))),G=Object(E.gql)(i||(i=Object($.a)(["\nmutation voteEvent($id: ID!, $votes: [VoteInput]!){\n  voteEvent(id: $id, votes: $votes){dates{votes{voter vote}}}\n}"]))),V=n(17),Y=function(e){var t=Object(E.useApolloClient)(),n=Object(V.g)(),a=Object(E.useMutation)(C,{onError:function(e){console.log(e)}}),s=Object(f.a)(a,1)[0];return{login:function(){var t=Object(N.a)(w.a.mark((function t(a){var c,r,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.username,r=a.password,console.log(c,r),t.next=4,s({variables:{username:c,password:r}});case 4:o=t.sent,e(o.data.login.value),localStorage.setItem("user-token",o.data.login.value),n.push("/");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),logout:function(){e(null),localStorage.clear(),t.resetStore()}}},B=n(1),Q=function(e){var t=e.setToken,n=Y(t).login;return Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Login"}),Object(B.jsx)(S.a,{initialValues:{username:"",password:""},onSubmit:function(){var e=Object(N.a)(w.a.mark((function e(t,a){var s,c,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.username,c=t.password,r=a.resetForm,e.next=4,n({username:s,password:c});case 4:r({values:{username:"",password:""}});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,s=e.handleSubmit;return Object(B.jsxs)("form",{onSubmit:s,children:["username: ",Object(B.jsx)("input",{id:"username",type:"text",name:"username",onChange:n,onBlur:a,value:t.username}),Object(B.jsx)("br",{}),"password: ",Object(B.jsx)("input",{id:"password",type:"password",name:"password",onChange:n,onBlur:a,value:t.password}),Object(B.jsx)("br",{}),Object(B.jsx)("button",{type:"submit",id:"login-button",children:"Login"})]})}}),Object(B.jsx)("h2",{children:"Not yet signed in?"}),Object(B.jsx)("button",{id:"signIn-button",children:Object(B.jsx)(D.b,{to:"SignIn",children:"Sign In"})})]})},A=function(e){var t=e.setToken,n=Y(t).login,a=function(){var e=Object(N.a)(w.a.mark((function e(t,a){var s,r,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.username,r=t.name,o=t.password,i=a.resetForm,e.next=4,c({variables:{username:s,name:r,password:o}});case 4:return e.next=6,n({username:s,password:o});case 6:i({values:{username:"",password:"",name:""}});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=Object(E.useMutation)(q,{onError:function(e){console.log(e.graphQLErrors[0].message)}}),c=Object(f.a)(s,1)[0];return Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Sign In"}),Object(B.jsx)(S.a,{initialValues:{username:"",password:"",name:""},onSubmit:a,children:function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,s=e.handleSubmit;return Object(B.jsxs)("form",{onSubmit:s,children:["username: ",Object(B.jsx)("input",{id:"username",type:"text",name:"username",onChange:n,onBlur:a,value:t.username}),Object(B.jsx)("br",{}),"name: ",Object(B.jsx)("input",{id:"name",type:"text",name:"name",onChange:n,onBlur:a,value:t.name}),Object(B.jsx)("br",{}),"password: ",Object(B.jsx)("input",{id:"password",type:"password",name:"password",onChange:n,onBlur:a,value:t.password}),Object(B.jsx)("br",{}),Object(B.jsx)("button",{type:"submit",id:"submit-button",children:"Sign In"})]})}})]})},H=Object(E.gql)(l||(l=Object($.a)(["\nquery{\n  me{\n    name\n    username\n    events{\n      name\n      id\n      status\n      finalDate\n    }\n  }\n}"]))),_=(Object(E.gql)(d||(d=Object($.a)(["\nquery{\n  allEvents{\n    name\n  }\n}"]))),Object(E.gql)(u||(u=Object($.a)(["\nquery{\n  userGroups{name id}\n}"])))),F=(Object(E.gql)(j||(j=Object($.a)(["\nquery{\n  userEvents{\n    name\n    id\n  }\n}"]))),Object(E.gql)(b||(b=Object($.a)(["\nquery event($id: ID!){\n  event(id: $id){\n    name\n    id\n    status\n    dates{\n      date\n      votes{\n        voter\n        vote\n      }\n    }\n  }\n}"])))),L=Object(E.gql)(O||(O=Object($.a)(["\nquery group($id: ID!){\n  group(id: $id){\n    name\n    id\n    users{\n      name\n      id\n    }\n  }\n}"]))),J=Object(E.gql)(m||(m=Object($.a)(["\nquery user($id: ID!){\n  user(id: $id){\n    name\n    id\n  }\n}"]))),T=Object(E.gql)(h||(h=Object($.a)(["\nquery{\n  allGroups{\n    name\n    id\n  }\n}"]))),P=n(99),U=n(97),z=n(130),W=n(137),K=n(131),R=n(132),X=n(133),Z=n(134),ee=n(135),te=n(136),ne=(n(71),function(e){var t=e.month,n=e.setMonth;return Object(B.jsxs)("div",{className:"header row flex-middle",children:[Object(B.jsx)("div",{className:"col col-start",children:Object(B.jsx)("div",{className:"icon",onClick:function(){n(z.a(t,1))},children:"chevron_left"})}),Object(B.jsx)("div",{className:"col col-center",children:Object(B.jsx)("span",{children:W.a(t,"MMMM YYYYY")})}),Object(B.jsx)("div",{className:"col col-end",onClick:function(){n(U.a(t,1))},children:Object(B.jsx)("div",{className:"icon",children:"chevron_right"})})]})}),ae=function(e){var t=e.month,n=K.a(t),a=Array.from(Array(7)).map((function(e,t){return Object(B.jsx)("div",{className:"col col-center",children:W.a(R.a(n,t),"EEEEEE")},t)}));return Object(B.jsx)("div",{className:"days row",children:a})},se=function(e){for(var t=e.month,n=e.setDates,a=e.dates,s=X.a(t),c=Z.a(s),r=K.a(s),o=ee.a(c),i=[],l=[],d=r,u="";d<=o;){for(var j=0;j<7;j++){u=W.a(d,"d");var b=d;l.push(Object(B.jsx)(ce,{formattedDate:u,day:b,monthStart:s,setDates:n,dates:a},b)),d=R.a(d,1)}i.push(Object(B.jsx)("div",{className:"row",children:l},d)),l=[]}return Object(B.jsx)("div",{className:"body",children:i})},ce=function(e){var t=e.formattedDate,n=e.day,a=e.monthStart,s=e.setDates,c=e.dates,r=Object(x.useState)(!1),o=Object(f.a)(r,2),i=o[0],l=o[1],d=function(e){l(!i),s(c.concat(W.a(e,"DDD")))};return i?Object(B.jsxs)("div",{className:"col cell green",onClick:function(){return d(n)},children:[Object(B.jsx)("span",{className:"number",children:t}),Object(B.jsx)("span",{className:"bg",children:t})]},n):Object(B.jsxs)("div",{className:"col cell ".concat(te.a(n,a)?"":"disabled"),onClick:function(){return d(n)},children:[Object(B.jsx)("span",{className:"number",children:t}),Object(B.jsx)("span",{className:"bg",children:t})]},n)},re=function(e){var t=e.setDates,n=e.dates,a=Object(x.useState)(new Date),s=Object(f.a)(a,2),c=s[0],r=s[1];return Object(B.jsxs)("div",{className:"calendar",children:[Object(B.jsx)(ne,{month:c,setMonth:r}),Object(B.jsx)(ae,{month:c}),Object(B.jsx)(se,{month:c,setDates:t,dates:n})]})},oe=function(){var e=Object(x.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(x.useState)(null),c=Object(f.a)(s,2),r=c[0],o=c[1],i=Object(E.useQuery)(_),l=[];i.data&&(l=i.data.userGroups.map((function(e){return{value:e.name,label:e.name}})));var d=Object(E.useMutation)(k,{update:function(e,t){console.log("dataInStore:");var n=e.readQuery({query:H}),a=n.me.events;console.log(n.me),console.log(a),console.log(t),e.writeQuery({query:H,data:{me:Object(v.a)(Object(v.a)({},n.me),{},{events:a.concat(t.data.addEvent)})}})}}),u=Object(f.a)(d,1)[0];return Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"New Event"}),Object(B.jsx)(S.a,{initialValues:{name:""},onSubmit:function(e,t){var a=e.name,s=t.resetForm;u({variables:{name:a,group:r,dates:n}}),s({})},children:function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,s=e.handleSubmit;return Object(B.jsxs)("form",{onSubmit:s,children:["event name: ",Object(B.jsx)("input",{id:"name",type:"text",name:"name",onChange:n,onBlur:a,value:t.name}),Object(B.jsx)("button",{id:"submit-button",type:"submit",children:"Submit"})]})}}),Object(B.jsx)(P.a,{id:"group-options",options:l,onChange:function(e){o(e.value)}}),Object(B.jsx)("h2",{children:"Choose possible days"}),Object(B.jsx)(re,{dates:n,setDates:a}),Object(B.jsxs)("button",{id:"homepage-button",children:[" ",Object(B.jsx)(D.b,{to:"/",children:"Home Page"})]})]})},ie=function(){var e=Object(E.useMutation)(M),t=Object(f.a)(e,1)[0],n=Object(x.useState)([]),a=Object(f.a)(n,2),s=a[0],c=a[1];return Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"New Group"}),Object(B.jsx)(S.a,{initialValues:{name:"",user:""},onSubmit:function(){var e=Object(N.a)(w.a.mark((function e(n,a){var c,r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.name,r=a.resetForm,console.log(c),console.log(s),e.next=6,t({variables:{name:c,users:s}});case 6:o=e.sent,console.log(o.data),r({});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,r=e.handleSubmit,o=e.setFieldValue;return Object(B.jsxs)("form",{onSubmit:r,children:["group name: ",Object(B.jsx)("input",{id:"name",type:"text",name:"name",onChange:n,onBlur:a,value:t.name}),Object(B.jsx)("br",{}),"users: ",Object(B.jsx)("input",{id:"user",type:"text",name:"user",onChange:n,onBlur:a,value:t.user}),Object(B.jsx)("button",{type:"button",id:"add-user-button",onClick:function(){c(s.concat(t.user)),o("user","")},children:"add user"}),Object(B.jsx)("br",{}),s.join(" "),Object(B.jsx)("br",{}),Object(B.jsx)("button",{id:"submit-button",type:"submit",children:"Submit"})]})}}),Object(B.jsxs)("button",{id:"homepage-button",children:[" ",Object(B.jsx)(D.b,{to:"/",children:"Home Page"})]})]})},le=n(55),de=function(e){var t=e.month,n=e.setMonth;return Object(B.jsxs)("div",{className:"header row flex-middle",children:[Object(B.jsx)("div",{className:"col col-start",children:Object(B.jsx)("div",{className:"icon",onClick:function(){n(z.a(t,1))},children:"chevron_left"})}),Object(B.jsx)("div",{className:"col col-center",children:Object(B.jsx)("span",{children:W.a(t,"MMMM YYYYY")})}),Object(B.jsx)("div",{className:"col col-end",onClick:function(){n(U.a(t,1))},children:Object(B.jsx)("div",{className:"icon",children:"chevron_right"})})]})},ue=function(e){var t=e.month,n=K.a(t),a=Array.from(Array(7)).map((function(e,t){return Object(B.jsx)("div",{className:"col col-center",children:W.a(R.a(n,t),"EEEEEE")},t)}));return Object(B.jsx)("div",{className:"days row",children:a})},je=function(e){for(var t=e.month,n=e.dates,a=e.setVotes,s=e.votes,c=X.a(t),r=Z.a(c),o=K.a(c),i=ee.a(r),l=[],d=[],u=o,j="";u<=i;){for(var b=0;b<7;b++){j=W.a(u,"d");var O=u;d.push(Object(B.jsx)(Oe,{formattedDate:j,day:O,monthStart:c,dates:n,setVotes:a,votes:s},O)),u=R.a(u,1)}l.push(Object(B.jsx)("div",{className:"row",children:d},u)),d=[]}return Object(B.jsx)("div",{className:"body",children:l})},be=function(e){var t=e.day,n=e.formattedDate,a=e.votes,s=e.setVotes,c=Object(x.useState)(""),r=Object(f.a)(c,2),o=r[0],i=r[1],l=Object(le.a)(a),d=l.findIndex((function(e){return e.date===W.a(t,"DDD")}));Object(x.useEffect)((function(){l[d]&&i(l[d].vote)}),[d]);return Object(B.jsxs)("div",{onClick:function(){return function(e){"blue"===e?(i("green"),l[d].vote="green",console.log(t),console.log(d),console.log(l),s(l)):"green"===e?(i("red"),l[d].vote="red",console.log(t),console.log(d),console.log(l),s(l)):(i("blue"),l[d].vote="blue",console.log(t),console.log(d),console.log(l),s(l))}(o)},className:"col cell ".concat(o),children:[Object(B.jsx)("span",{className:"number",children:n}),Object(B.jsx)("span",{className:"bg",children:n})]},t)},Oe=function(e){var t=e.formattedDate,n=e.day,a=e.monthStart,s=e.dates,c=e.setVotes,r=e.votes;return s.includes(W.a(n,"DDD"))?Object(B.jsx)(be,{setVotes:c,votes:r,day:n,formattedDate:t}):Object(B.jsxs)("div",{className:"col cell ".concat(te.a(n,a)?"":"disabled"),children:[Object(B.jsx)("span",{className:"number",children:t}),Object(B.jsx)("span",{className:"bg",children:t})]},n)},me=function(e){var t=e.dates,n=e.setVotes,a=e.votes,s=Object(x.useState)(new Date),c=Object(f.a)(s,2),r=c[0],o=c[1];return Object(B.jsxs)("div",{className:"calendar",children:[Object(B.jsx)(de,{month:r,setMonth:o}),Object(B.jsx)(ue,{month:r}),Object(B.jsx)(je,{month:r,dates:t,setVotes:n,votes:a}),Object(B.jsx)("ul",{children:t})]})},he=function(){var e=Object(x.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(E.useMutation)(G,{onError:function(e){console.log(e)}}),c=Object(f.a)(s,2),r=c[0],o=c[1];console.log(o);var i=Object(V.h)().id,l=Object(E.useQuery)(H),d=Object(E.useQuery)(F,{variables:{id:i}});return Object(x.useEffect)((function(){if(d.data&&l.data){console.log(d.data.event),console.log(d.data.event.dates),console.log(l.data.me.username);var e=d.data.event.dates.map((function(e){return{date:e.date,vote:"blue"}}));0!==d.data.event.dates[0].votes.filter((function(e){return e.voter===l.data.me.username})).length&&(e=d.data.event.dates.map((function(e){return{date:e.date,vote:e.votes.find((function(e){return e.voter===l.data.me.username})).vote}}))),a(e)}}),[d.data]),d.data?(console.log(n),Object(B.jsxs)("div",{children:[d.data.event.name,Object(B.jsx)(me,{dates:d.data.event.dates.map((function(e){return e.date})),setVotes:a,votes:n}),Object(B.jsx)("button",{onClick:function(){return r({variables:{id:d.data.event.id,votes:n}})},children:"Vote"})]})):Object(B.jsx)("div",{children:"...loading"})},ve=function(e){var t=e.month,n=e.setMonth;return Object(B.jsxs)("div",{className:"header row flex-middle",children:[Object(B.jsx)("div",{className:"col col-start",children:Object(B.jsx)("div",{className:"icon",onClick:function(){n(z.a(t,1))},children:"chevron_left"})}),Object(B.jsx)("div",{className:"col col-center",children:Object(B.jsx)("span",{children:W.a(t,"MMMM YYYYY")})}),Object(B.jsx)("div",{className:"col col-end",onClick:function(){n(U.a(t,1))},children:Object(B.jsx)("div",{className:"icon",children:"chevron_right"})})]})},xe=function(e){var t=e.month,n=K.a(t),a=Array.from(Array(7)).map((function(e,t){return Object(B.jsx)("div",{className:"col col-center",children:W.a(R.a(n,t),"EEEEEE")},t)}));return Object(B.jsx)("div",{className:"days row",children:a})},pe=function(e){for(var t=e.month,n=e.dates,a=X.a(t),s=Z.a(a),c=K.a(a),r=ee.a(s),o=[],i=[],l=c,d="";l<=r;){for(var u=0;u<7;u++){d=W.a(l,"d");var j=l;i.push(Object(B.jsx)(ge,{formattedDate:d,day:j,monthStart:a,dates:n},j)),l=R.a(l,1)}o.push(Object(B.jsx)("div",{className:"row",children:i},l)),i=[]}return Object(B.jsx)("div",{className:"body",children:o})},ge=function(e){var t=e.formattedDate,n=e.day,a=e.monthStart,s=e.dates.find((function(e){return e.date===W.a(n,"DDD")}));return console.log(s),Object(B.jsxs)("div",{className:"col cell ".concat(te.a(n,a)?"":"disabled"),children:[Object(B.jsx)("span",{className:"number",children:t}),Object(B.jsx)("span",{className:"bg",children:t}),Object(B.jsx)("div",{children:s?s.name:null})]},n)},fe=function(e){var t=e.events;console.log(t);var n=t.filter((function(e){return"done"===e.status})).map((function(e){return{date:e.finalDate,name:e.name}}));console.log(n);var a=Object(x.useState)(new Date),s=Object(f.a)(a,2),c=s[0],r=s[1];return Object(B.jsxs)("div",{className:"calendar",children:[Object(B.jsx)(ve,{month:c,setMonth:r}),Object(B.jsx)(xe,{month:c}),Object(B.jsx)(pe,{month:c,dates:n})]})},ye=function(e){var t=e.events.map((function(e){return Object(B.jsx)("li",{children:Object(B.jsx)(D.b,{to:"/events/".concat(e.id),children:e.name})},e.id)}));return Object(B.jsx)("div",{children:Object(B.jsx)("ul",{children:t})})},we=n(100),Ne=function(e){var t=e.logout,n=Object(E.useQuery)(H);return n.data&&console.log(n.data.me.events),console.log(n),Object(B.jsxs)("div",{children:[n.data?Object(B.jsxs)("h2",{children:["Hello ",n.data.me.name," "]}):null,n.data?Object(B.jsx)(fe,{events:n.data.me.events}):null,n.data?Object(B.jsx)(ye,{events:n.data.me.events}):null,Object(B.jsx)(we.a,{id:"addEvent-button",children:Object(B.jsx)(D.b,{to:"/addevent",children:"add event"})}),Object(B.jsx)("button",{id:"logout-button",onClick:t,children:"Log Out"}),Object(B.jsx)("button",{id:"addGroup-button",children:Object(B.jsx)(D.b,{to:"/addGroup",children:"add group"})}),Object(B.jsx)("button",{id:"groups-button",children:Object(B.jsx)(D.b,{to:"/groups",children:"groups"})}),Object(B.jsx)("button",{id:"join-group-button",children:Object(B.jsx)(D.b,{to:"/joinGroup",children:"join group"})})]})},Se=function(){var e=Object(E.useQuery)(_),t=e.data?e.data.userGroups.map((function(e){return Object(B.jsx)("li",{children:Object(B.jsx)(D.b,{to:"/groups/".concat(e.id),children:e.name})},e.name)})):[];return 0===t.length&&e.data?Object(B.jsxs)("div",{children:[Object(B.jsx)("h2",{children:"It seems you aren't part any group yet"}),Object(B.jsx)("h2",{children:Object(B.jsx)(D.b,{to:"/joinGroup",children:"Join Here"})})]}):Object(B.jsx)("div",{children:Object(B.jsx)("ul",{children:t})})},De=function(e){var t=e.users.map((function(e){return Object(B.jsx)("li",{children:Object(B.jsx)(D.b,{to:"/users/".concat(e.id),children:e.name})},e.id)}));return Object(B.jsx)("div",{children:Object(B.jsx)("ul",{children:t})})},Ee=function(){var e=Object(V.h)().id,t=Object(E.useQuery)(L,{variables:{id:e}});return console.log(t.data),Object(B.jsxs)("div",{children:[t.data?t.data.group.name:null,t.data?Object(B.jsx)(De,{users:t.data.group.users}):null]})},$e=function(){var e=Object(V.h)().id,t=Object(E.useQuery)(J,{variables:{id:e}});return t.data?Object(B.jsx)("div",{children:t.data.user.name}):Object(B.jsx)("div",{children:"...loading"})},Ce=function(e){var t=e.group,n=Object(E.useMutation)(I),a=Object(f.a)(n,1)[0];return Object(B.jsx)("li",{children:Object(B.jsxs)("span",{children:[t.name,Object(B.jsx)("button",{onClick:function(){return a({variables:{id:t.id}})},children:"Join"})]})})},ke=function(){var e=Object(E.useQuery)(T);return Object(B.jsxs)("div",{children:["Hello World",Object(B.jsx)("ul",{children:e.data?e.data.allGroups.map((function(e){return Object(B.jsx)(Ce,{group:e},e.id)})):null})]})},qe=function(){var e=Object(x.useState)(localStorage.getItem("user-token")),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Y(a).logout;return Object(B.jsx)(D.a,{children:Object(B.jsxs)(V.d,{children:[Object(B.jsx)(V.b,{path:"/joinGroup",children:n?Object(B.jsx)(ke,{}):Object(B.jsx)(V.a,{to:"/login"})}),Object(B.jsx)(V.b,{path:"/users/:id",children:n?Object(B.jsx)($e,{}):Object(B.jsx)(V.a,{to:"/login"})}),Object(B.jsx)(V.b,{path:"/groups/:id",children:n?Object(B.jsx)(Ee,{}):Object(B.jsx)(V.a,{to:"/login"})}),Object(B.jsx)(V.b,{path:"/groups",children:n?Object(B.jsx)(Se,{}):Object(B.jsx)(V.a,{to:"/login"})}),Object(B.jsx)(V.b,{path:"/addGroup",children:n?Object(B.jsx)(ie,{}):Object(B.jsx)(V.a,{to:"/login"})}),Object(B.jsx)(V.b,{path:"/SignIn",children:Object(B.jsx)(A,{setToken:a})}),Object(B.jsx)(V.b,{path:"/login",children:Object(B.jsx)(Q,{setToken:a})}),Object(B.jsx)(V.b,{path:"/events/:id",children:n?Object(B.jsx)(he,{}):Object(B.jsx)(V.a,{to:"/login"})}),Object(B.jsx)(V.b,{path:"/addevent",children:n?Object(B.jsx)(oe,{}):Object(B.jsx)(V.a,{to:"/login"})}),Object(B.jsx)(V.b,{path:"/",children:n?Object(B.jsx)(Ne,{logout:s}):Object(B.jsx)(V.a,{to:"/login"})})]})})},Me=n(101),Ie=Object(Me.a)((function(e,t){var n=t.headers,a=localStorage.getItem("user-token");return{headers:Object(v.a)(Object(v.a)({},n),{},{authorization:a?"bearer ".concat(a):null})}})),Ge=new E.HttpLink({uri:"/graphql"}),Ve=new E.ApolloClient({cache:new E.InMemoryCache,link:Ie.concat(Ge)});g.a.render(Object(B.jsx)(E.ApolloProvider,{client:Ve,children:Object(B.jsx)(qe,{})}),document.getElementById("root"))},71:function(e,t,n){}},[[129,1,2]]]);
//# sourceMappingURL=main.530f40e2.chunk.js.map