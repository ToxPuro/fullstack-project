{"version":3,"sources":["components/Login.js","components/SignIn.js","graphql/mutations.js","graphql/queries.js","components/ChoiceCalendar.js","components/Loader.js","components/AddEvent.js","components/AddGroup.js","components/EventCalendar.js","components/Event.js","components/PreviewCalendar.js","components/Events.js","components/HomePage.js","components/Groups.js","components/Users.js","components/Group.js","components/User.js","components/JoinGroup.js","components/Notification.js","hooks/useLogin.js","App.js","index.js"],"names":["validationSchema","yup","shape","username","required","min","password","Login","login","initialValues","onSubmit","a","resetForm","values","handleChange","handleBlur","handleSubmit","isValid","dirty","id","type","name","onChange","onBlur","value","to","SignIn","signIn","LOGIN","gql","ADD_EVENT","SIGN_IN","ADD_GROUP","JOIN_GROUP","VOTE_EVENT","LEAVE_GROUP","USER_EVENTS","USER_ID","USER_GROUPS","EVENT","GET_GROUP","GROUPS_THAT_USER_IS_NOT_IN","GET_USER","Header","month","setMonth","className","onClick","dateFns","Days","startDate","shortWeekDaysArray","Array","from","map","e","i","Cells","setDates","dates","monthStart","monthEnd","endDate","rows","days","day","formattedDate","cloneDay","push","CalendarDate","useState","clicked","setClicked","concat","onDateClick","ChoiceCalendar","Date","Loader","AddEvent","setNotification","choice","setChoice","groups","useQuery","options","data","me","group","label","useMutation","update","store","response","console","log","dataInStore","readQuery","query","eventsInStore","events","writeQuery","addEvent","length","message","error","setTimeout","variables","selectedOption","AddGroup","addGroup","users","setUsers","user","result","setFieldValue","join","setVotes","votes","ChoiceDate","vote","setVote","cloneVotes","dayIndex","findIndex","date","useEffect","includes","EventCalendar","parseDate","Event","onError","event","useParams","initialVotes","filter","voter","find","PreviewCalendar","status","finalDate","Events","displayEvents","HomePage","logout","Button","Groups","displayGroups","Users","displayUsers","Group","history","useHistory","groupsUserNotIn","leaveGroup","modify","fields","listInCache","__ref","leave","JoinGroupElement","joinGroup","JoinGroup","Notification","notification","style","useLogin","setToken","client","useApolloClient","startsWith","getErrorMessage","graphQLErrors","signInMutation","loginMutation","localStorage","setItem","clear","resetStore","AppRouter","getItem","token","path","User","App","authLink","setContext","_","headers","authorization","httpLink","HttpLink","uri","ApolloClient","cache","InMemoryCache","link","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.686cb521.chunk.js","sourcesContent":["import { Formik } from \"formik\"\nimport { Link } from \"react-router-dom\"\nimport React from \"react\"\nimport * as yup from \"yup\"\n\nconst validationSchema = yup.object().shape({\n  username: yup\n    .string()\n    .required(\"Username is required\")\n    .min(3, \"Username needs to be atleast 3 characters\"),\n  password: yup\n    .string()\n    .required(\"Password is required\")\n    .min(8, \"Password needs to be atleast 8 characters\")\n\n})\n\nconst Login = ({ login }) => {\n  return(\n    <div>\n      <h1>Login</h1>\n      <Formik\n        initialValues={{ username: \"\", password: \"\" }}\n        onSubmit={ async ({ username, password }, { resetForm }) => {\n          await login({ username, password })\n          resetForm({ values: { username: \"\", password: \"\" } })\n        }}\n        validationSchema={validationSchema}\n      >\n        {({\n          values,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isValid,\n          dirty\n          /* and other goodies */\n        }) => (\n          <form onSubmit={handleSubmit}>\n           username: <input\n              id=\"username\"\n              type=\"text\"\n              name=\"username\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.username}\n            />\n\n            <br/>\n\n           password: <input\n              id=\"password\"\n              type= \"password\"\n              name=\"password\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.password}\n            />\n            <br/>\n            {(isValid && dirty) ?  <button type=\"submit\" id=\"login-button\">\n              Login\n            </button> : null }\n          </form>\n        )}\n      </Formik>\n      <h2>Not yet signed in?</h2>\n      <button id=\"signIn-button\"><Link to=\"SignIn\">Sign In</Link></button>\n    </div>\n  )}\n\n\nexport default Login","import React from \"react\"\nimport { Formik } from \"formik\"\nimport * as yup from \"yup\"\n\nconst validationSchema = yup.object().shape({\n  username: yup\n    .string()\n    .required(\"Username is required\"),\n  name: yup\n    .string()\n    .required(\"Name is required\"),\n  password: yup\n    .string()\n    .required(\"Password is required\")\n\n})\n\nconst SignIn = ({ login, signIn }) => {\n  const onSubmit = async ({ username, name, password }, { resetForm }) => {\n    const signInSuccessful = await signIn(username, name, password)\n    if(signInSuccessful){\n      await login({ username, password })\n    }\n\n    resetForm({ values: { username: \"\", password: \"\", name: \"\" } })\n  }\n\n\n\n\n\n\n\n  return(\n    <div>\n      <h1>Sign In</h1>\n      <Formik\n        initialValues={{ username: \"\", password: \"\", name: \"\" }}\n        onSubmit={onSubmit}\n        validationSchema = {validationSchema}\n      >\n        {({\n          values,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isValid,\n          dirty\n          /* and other goodies */\n        }) => (\n          <form onSubmit={handleSubmit}>\n           username: <input\n              id=\"username\"\n              type=\"text\"\n              name=\"username\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.username}\n            />\n\n            <br/>\n\n            name: <input\n              id=\"name\"\n              type=\"text\"\n              name=\"name\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.name}\n            />\n\n            <br/>\n\n           password: <input\n              id=\"password\"\n              type= \"text\"\n              name=\"password\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.password}\n            />\n            <br/>\n            { (isValid && dirty) ?             <button type=\"submit\" id=\"submit-button\">\n             Sign In\n            </button> : null}\n          </form>\n        )}\n      </Formik>\n    </div>\n  )}\n\n\nexport default SignIn","import { gql } from \"@apollo/client\"\n\nexport const LOGIN = gql`\nmutation login($username: String!, $password: String!){\n  login(username: $username, password: $password){value}\n}`\n\nexport const ADD_EVENT = gql`\nmutation addEvent($name: String! $group: String! $dates: [String!]!){\n  addEvent(name: $name, group: $group dates: $dates){name id}\n}`\n\nexport const SIGN_IN = gql`\nmutation createUser($name: String! $username: String! $password: String!){\n  createUser(name: $name, username: $username, password: $password){name}\n}`\n\nexport const ADD_GROUP = gql`\nmutation addGroup($name: String! $users: [String]!){\n  createGroup(name: $name, users: $users){name}\n}`\n\nexport const JOIN_GROUP = gql`\nmutation joinGroup($id: ID!){\n  joinGroup(id: $id){\n    name \n    id\n  }\n}`\n\nexport const VOTE_EVENT = gql`\nmutation voteEvent($id: ID!, $votes: [VoteInput]!){\n  voteEvent(id: $id, votes: $votes){\n    name \n    id\n    status \n    dates{\n      votes{\n        voter \n        vote}\n      }\n    }\n}`\n\nexport const LEAVE_GROUP = gql`\nmutation leaveGroup($id: ID!){\n  leaveGroup(id: $id){\n    name\n    id\n  }\n}`\n\n\n\n","import { gql } from \"@apollo/client\"\n\nexport const USER_EVENTS = gql`\nquery{\n  me{\n    name\n    username\n    id\n    events{\n      name\n      id\n      status\n      finalDate\n    }\n  }\n}`\n\nexport const USER_ID = gql`\nquery{\n  me{\n    id\n  }\n}`\n\nexport const ALL_EVENTS = gql`\nquery{\n  allEvents{\n    name\n  }\n}`\n\nexport const USER_GROUPS = gql`\nquery{\n  me{\n    id\n    groups{\n      name\n      id\n    }\n  }\n}`\n\nexport const EVENT = gql`\nquery event($id: ID!){\n  event(id: $id){\n    name\n    id\n    status\n    dates{\n      date\n      votes{\n        voter\n        vote\n      }\n    }\n  }\n}`\n\nexport const GET_GROUP = gql`\nquery group($id: ID!){\n  group(id: $id){\n    name\n    id\n    users{\n      name\n      username\n      id\n    }\n  }\n}`\n\nexport const GROUPS_THAT_USER_IS_NOT_IN = gql`\nquery{\n  me{\n    id\n    groupsUserNotIn{\n      name\n      id\n    }\n  }\n}`\n\nexport const GET_USER = gql`\nquery user($username: String!){\n  user(username: $username){\n    name\n    id\n  }\n}`\n\nexport const ALL_GROUPS = gql`\nquery{\n  allGroups{\n    name\n    id\n  }\n}`\n\n\n","import React, { useState } from \"react\"\nimport * as dateFns from \"date-fns\"\nimport \"../App.css\"\n\nconst ChoiceCalendar = ({ setDates, dates }) => {\n  const [ month, setMonth ] = useState(new Date())\n  return(\n    <div className=\"calendar\">\n      <Header month={month} setMonth={setMonth}/>\n      <Days month={month}/>\n      <Cells month={month} setDates = {setDates} dates={dates}/>\n    </div>\n  )\n}\n\nconst Header = ({ month, setMonth }) => {\n  const dateFormat = \"MMMM YYYYY\"\n\n  const nextMonth = () => {\n    setMonth(dateFns.addMonths(month, 1))\n  }\n\n  const prevMonth = () => {\n    setMonth(dateFns.subMonths(month,1))\n  }\n\n  return (\n    <div className=\"header row flex-middle\">\n      <div className=\"col col-start\">\n        <div className=\"icon\" onClick={prevMonth}>\n          chevron_left\n        </div>\n      </div>\n      <div className=\"col col-center\">\n        <span>\n          {dateFns.format(month, dateFormat)}\n        </span>\n      </div>\n      <div className=\"col col-end\" onClick={nextMonth}>\n        <div className=\"icon\">chevron_right</div>\n      </div>\n    </div>\n  )\n\n}\n\nconst Days = ({ month }) => {\n\n  let startDate = dateFns.startOfWeek(month)\n\n  const shortWeekDaysArray = Array.from(Array(7)).map((e, i) => (<div className=\"col col-center\" key={i}>\n    {dateFns.format(dateFns.addDays(startDate, i), \"EEEEEE\")}\n  </div> ))\n\n  return(\n    <div className=\"days row\">{shortWeekDaysArray}</div>\n  )\n}\n\nconst Cells = ({ month, setDates, dates }) => {\n\n  const monthStart = dateFns.startOfMonth(month)\n  const monthEnd = dateFns.endOfMonth(monthStart)\n  const startDate = dateFns.startOfWeek(monthStart)\n  const endDate = dateFns.endOfWeek(monthEnd)\n\n  const dateFormat = \"d\"\n  const rows = []\n\n  let days = []\n  let day = startDate\n  let formattedDate = \"\"\n\n  while(day <= endDate){\n    for(let i = 0; i<7; i++){\n      formattedDate = dateFns.format(day, dateFormat)\n      const cloneDay = day\n      days.push(\n        <CalendarDate key={cloneDay} formattedDate = {formattedDate} day={cloneDay} monthStart={monthStart} setDates={setDates} dates={dates}/>\n      )\n      day = dateFns.addDays(day, 1)\n    }\n    rows.push(\n      <div className=\"row\" key={day}>\n        {days}\n      </div>\n    )\n    days=[]\n  }\n\n  return(\n    <div className=\"body\">{rows}</div>\n  )\n\n}\n\nconst CalendarDate = ({ formattedDate, day, monthStart,setDates, dates }) => {\n\n  const [ clicked, setClicked ] = useState(false)\n\n  const onDateClick = day => {\n    setClicked(!clicked)\n    setDates(dates.concat(day))\n  }\n\n  let className = \"col cell default\"\n  if(!dateFns.isSameMonth(day, monthStart)){\n    className =\"col cell disabled\"\n  }\n  if(clicked){\n    className = \"col cell green\"\n  }\n  return(\n    <div\n      id={`dates-${formattedDate}`}\n      className={className}\n      key={day}\n      onClick = {() => onDateClick(day)}\n    >\n      <span className=\"number\">{formattedDate}</span>\n      <span className=\"bg\">{formattedDate}</span>\n    </div>\n  )\n}\n\nexport default ChoiceCalendar","import React from \"react\"\n\nconst Loader = () => {\n  return(\n    <div>\n      ...loading\n    </div>\n  )\n}\n\nexport default Loader","import React, { useState } from \"react\"\nimport { Formik } from \"formik\"\nimport { useMutation, useQuery } from \"@apollo/client\"\nimport { ADD_EVENT } from \"../graphql/mutations\"\nimport { USER_EVENTS, USER_GROUPS } from \"../graphql/queries\"\nimport Select from \"react-select\"\nimport ChoiceCalendar from \"./ChoiceCalendar\"\nimport { Link } from \"react-router-dom\"\nimport Loader from \"./Loader\"\nconst AddEvent = ({ setNotification }) => {\n  const [ dates, setDates] = useState([])\n  const [choice, setChoice] = useState(null)\n  const handleChoice = selectedOption => {\n    setChoice(selectedOption.value)\n  }\n  const groups = useQuery(USER_GROUPS)\n  let options = []\n  if(groups.data){\n    options = groups.data.me.groups.map(group => (\n      { value: group.name, label: group.name }\n    ))\n  }\n  const [addEvent ] = useMutation(ADD_EVENT, {\n    update: (store, response) => {\n      console.log(\"dataInStore:\")\n      const dataInStore = store.readQuery({ query: USER_EVENTS })\n      if(dataInStore){\n        const eventsInStore = dataInStore.me.events\n        console.log(dataInStore.me)\n        console.log(eventsInStore)\n        console.log(response)\n        store.writeQuery({\n          query: USER_EVENTS,\n          data: {\n            me: {\n              ...dataInStore.me,\n              events: eventsInStore.concat(response.data.addEvent)\n            }\n          }\n        })\n\n      }\n\n    }\n  })\n  if(!groups.data){\n    return(\n      <Loader/>\n    )\n  }\n  if(options.length === 0 && groups.data){\n    return(\n      <div>\n        <h2>{\"You need to be part of group to add events\"}</h2>\n        <h2><Link to=\"/joinGroup\">Join Here</Link></h2>\n      </div>\n    )\n  }\n  return(\n    <div>\n      <h1>New Event</h1>\n      <Formik\n        initialValues={{ name: \"\" }}\n        onSubmit={({ name }, { resetForm }) => {\n          if(dates.length === 0){\n            setNotification({ message: \"pick possible dates\", error: true })\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          }\n          if(!choice){\n            setNotification({ message: \"pick group to add event\", error: true })\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          }\n          else{\n            addEvent({ variables:{ name, group: choice, dates } })\n            setNotification({ message: `added event ${name} to group ${choice}`, error: false })\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n            resetForm({})\n          }\n\n        }}\n      >\n        {({\n          values,\n          handleChange,\n          handleBlur,\n          handleSubmit\n          /* and other goodies */\n        }) => (\n          <form onSubmit={handleSubmit}>\n           event name: <input\n              id=\"name\"\n              type=\"text\"\n              name=\"name\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.name}\n            />\n            <button id =\"submit-button\"type=\"submit\">\n             Submit\n            </button>\n          </form>\n        )}\n      </Formik>\n      <Select id=\"group-options\"options={options} onChange={handleChoice} />\n      <h2>Choose possible days</h2>\n      <ChoiceCalendar dates={dates} setDates={setDates}/>\n      <button id=\"homepage-button\"> <Link to=\"/\">Home Page</Link></button>\n    </div>\n  )}\n\n\nexport default AddEvent","import React, { useState } from \"react\"\nimport { Formik } from \"formik\"\nimport { Link } from \"react-router-dom\"\nimport { useMutation } from \"@apollo/client\"\nimport { ADD_GROUP } from \"../graphql/mutations\"\nconst AddGroup = () => {\n  const[addGroup]  = useMutation(ADD_GROUP)\n  const [ users, setUsers] = useState([])\n  return(\n    <div>\n      <h1>New Group</h1>\n      <Formik\n        initialValues={{ name: \"\", user: \"\" }}\n        onSubmit={async ({ name }, { resetForm }) => {\n          console.log(name)\n          console.log(users)\n          const result = await addGroup({ variables: { name, users } })\n          console.log(result.data)\n          resetForm({})\n        }}\n      >\n        {({\n          values,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          setFieldValue\n          /* and other goodies */\n        }) => (\n          <form onSubmit={handleSubmit}>\n           group name: <input\n              id=\"name\"\n              type=\"text\"\n              name=\"name\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.name}\n            />\n            <br/>\n          users: <input\n              id=\"user\"\n              type=\"text\"\n              name=\"user\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.user}/>\n            <button type=\"button\" id=\"add-user-button\" onClick={() => {\n              setUsers(users.concat(values.user))\n              setFieldValue(\"user\", \"\")\n            }}>add user</button>\n            <br/>\n            {users.join(\" \")}\n            <br/>\n            <button id =\"submit-button\"type=\"submit\">\n             Submit\n            </button>\n          </form>\n        )}\n      </Formik>\n      <button id=\"homepage-button\"> <Link to=\"/\">Home Page</Link></button>\n    </div>\n  )}\n\n\nexport default AddGroup","import React, { useEffect, useState } from \"react\"\nimport * as dateFns from \"date-fns\"\nimport \"../App.css\"\n\nconst EventCalendar = ({ dates, setVotes, votes }) => {\n\n  const [ month, setMonth ] = useState(new Date())\n  return(\n    <div className=\"calendar\">\n      <Header month={month} setMonth={setMonth}/>\n      <Days month={month}/>\n      <Cells month={month} dates={dates} setVotes={setVotes} votes={votes}/>\n    </div>\n  )\n}\n\nconst Header = ({ month, setMonth }) => {\n  const dateFormat = \"MMMM YYYYY\"\n\n  const nextMonth = () => {\n    setMonth(dateFns.addMonths(month, 1))\n  }\n\n  const prevMonth = () => {\n    setMonth(dateFns.subMonths(month,1))\n  }\n\n  return (\n    <div className=\"header row flex-middle\">\n      <div className=\"col col-start\">\n        <div className=\"icon\" onClick={prevMonth}>\n          chevron_left\n        </div>\n      </div>\n      <div className=\"col col-center\">\n        <span>\n          {dateFns.format(month, dateFormat)}\n        </span>\n      </div>\n      <div className=\"col col-end\" onClick={nextMonth}>\n        <div className=\"icon\">chevron_right</div>\n      </div>\n    </div>\n  )\n\n}\n\nconst Days = ({ month }) => {\n\n  let startDate = dateFns.startOfWeek(month)\n\n  const shortWeekDaysArray = Array.from(Array(7)).map((e, i) => (<div className=\"col col-center\" key={i}>\n    {dateFns.format(dateFns.addDays(startDate, i), \"EEEEEE\")}\n  </div> ))\n\n  return(\n    <div className=\"days row\">{shortWeekDaysArray}</div>\n  )\n}\n\nconst Cells = ({ month, dates, setVotes, votes }) => {\n\n  const monthStart = dateFns.startOfMonth(month)\n  const monthEnd = dateFns.endOfMonth(monthStart)\n  const startDate = dateFns.startOfWeek(monthStart)\n  const endDate = dateFns.endOfWeek(monthEnd)\n\n  const dateFormat = \"d\"\n  const rows = []\n\n  let days = []\n  let day = startDate\n  let formattedDate = \"\"\n\n  while(day <= endDate){\n    for(let i = 0; i<7; i++){\n      formattedDate = dateFns.format(day, dateFormat)\n      const cloneDay = day\n      days.push(\n        <CalendarDate key={cloneDay} formattedDate = {formattedDate} day={cloneDay} monthStart={monthStart} dates={dates} setVotes={setVotes} votes={votes}/>\n      )\n      day = dateFns.addDays(day, 1)\n    }\n    rows.push(\n      <div className=\"row\" key={day}>\n        {days}\n      </div>\n    )\n    days=[]\n  }\n\n  return(\n    <div className=\"body\">{rows}</div>\n  )\n\n}\n\nconst ChoiceDate = ({ day, formattedDate, votes, setVotes }) => {\n  const [vote, setVote] = useState(\"\")\n  const cloneVotes = [...votes]\n  console.log(cloneVotes)\n  const dayIndex = cloneVotes.findIndex(vote => dateFns.format(vote.date, \"DDD\") === dateFns.format(day, \"DDD\"))\n  useEffect(() => {\n    if(cloneVotes[dayIndex]){\n      setVote(cloneVotes[dayIndex].vote)\n    }\n  }, [dayIndex])\n  const onClick = (vote) => {\n    if(vote===\"blue\"){\n      setVote(\"green\")\n      cloneVotes[dayIndex].vote = \"green\"\n      setVotes(cloneVotes)\n\n    }\n    else if(vote === \"green\"){\n      setVote(\"red\")\n      cloneVotes[dayIndex].vote = \"red\"\n      setVotes(cloneVotes)\n    }\n    else{\n      setVote(\"blue\")\n      cloneVotes[dayIndex].vote = \"blue\"\n      setVotes(cloneVotes)\n    }\n  }\n  console.log(vote)\n  return(\n    <div onClick={() => onClick(vote)}\n      id={`dates-${formattedDate}`}\n      className={`col cell ${vote}`}\n      key={day}>\n      <span className=\"number\">{formattedDate}</span>\n      <span className=\"bg\">{formattedDate}</span>\n    </div>\n  )\n}\n\nconst CalendarDate = ({ formattedDate, day, monthStart, dates, setVotes, votes }) => {\n  const checkDates = dates.map(date => dateFns.format(date, \"d\"))\n  if(checkDates.includes(dateFns.format(day, \"d\"))){\n    console.log(\"FOUND\")\n    return(\n      <ChoiceDate setVotes={setVotes} votes={votes} day={day} formattedDate = {formattedDate}/>\n\n    )\n  }\n\n  return(\n    <div\n      className={`col cell ${!dateFns.isSameMonth(day, monthStart) ? \"disabled\" : \"\"}`}\n      key={day}\n    >\n      <span className=\"number\">{formattedDate}</span>\n      <span className=\"bg\">{formattedDate}</span>\n    </div>\n  )\n}\n\nexport default EventCalendar","import React, { useState, useEffect } from \"react\"\nimport { useMutation, useQuery } from \"@apollo/client\"\nimport { useParams } from \"react-router-dom\"\nimport { USER_EVENTS, EVENT } from \"../graphql/queries\"\nimport EventCalendar from \"./EventCalendar\"\nimport { VOTE_EVENT } from \"../graphql/mutations\"\nimport { Link } from \"react-router-dom\"\n\nconst parseDate = (date) => {\n  console.log(date)\n  let result = new Date(date)\n  return result\n\n}\nconst Event = ({ setNotification }) => {\n  const [ votes, setVotes ] = useState([])\n  const [ vote, response ] = useMutation(VOTE_EVENT, {\n    onError : (error) => {\n      console.log(error)\n    }\n  })\n  const onClick = async () => {\n    await vote({ variables: { id: event.data.event.id, votes } })\n    setNotification({ message: \"Voted successfully\", error: false })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n  console.log(response)\n  const id = useParams().id\n  const user= useQuery(USER_EVENTS)\n  console.log(user)\n  const event = useQuery(EVENT, { variables: { id } })\n  console.log(event)\n  useEffect(() => {\n    if(event.data && user.data){\n      console.log(event.data.event)\n      console.log(event.data.event.dates)\n      console.log(\"User\", user.data.me.username)\n      let initialVotes = event.data.event.dates.map(date => ({ date: parseDate(date.date), vote: \"blue\" }))\n      if(event.data.event.dates[0].votes.filter(vote => vote.voter === user.data.me.username).length !== 0){\n        initialVotes = event.data.event.dates.map(date => ({ date: parseDate(date.date), vote: date.votes.find(vote => vote.voter === user.data.me.username ).vote }))\n      }\n      setVotes(initialVotes)\n    }\n  },[event.data, user.data])\n\n  if(!event.data){\n    return(\n      <div>\n        ...loading\n      </div>\n    )\n  }\n  console.log(votes)\n  return(\n    <div>\n      {event.data.event.name}\n      <EventCalendar dates = {event.data.event.dates.map(date => parseDate(date.date))} setVotes={setVotes} votes={votes}/>\n      <button id=\"voting-button\" onClick={onClick}>Vote</button>\n      <button id=\"homepage-button\"> <Link to=\"/\">Home Page</Link></button>\n    </div>\n  )\n}\n\nexport default Event","import React, { useState } from \"react\"\nimport * as dateFns from \"date-fns\"\nimport \"../App.css\"\n\nconst PreviewCalendar = ({ events }) => {\n  console.log(events)\n  const dates = events.filter(event => event.status === \"done\").map(event => ({ date: event.finalDate, name: event.name }))\n  console.log(dates)\n  const [ month, setMonth ] = useState(new Date())\n  return(\n    <div className=\"calendar\">\n      <Header month={month} setMonth={setMonth}/>\n      <Days month={month}/>\n      <Cells month={month} dates={dates}/>\n    </div>\n  )\n}\n\nconst Header = ({ month, setMonth }) => {\n  const dateFormat = \"MMMM YYYYY\"\n\n  const nextMonth = () => {\n    setMonth(dateFns.addMonths(month, 1))\n  }\n\n  const prevMonth = () => {\n    setMonth(dateFns.subMonths(month,1))\n  }\n\n  return (\n    <div className=\"header row flex-middle\">\n      <div className=\"col col-start\">\n        <div className=\"icon\" onClick={prevMonth}>\n          chevron_left\n        </div>\n      </div>\n      <div className=\"col col-center\">\n        <span>\n          {dateFns.format(month, dateFormat)}\n        </span>\n      </div>\n      <div className=\"col col-end\" onClick={nextMonth}>\n        <div className=\"icon\">chevron_right</div>\n      </div>\n    </div>\n  )\n\n}\n\nconst Days = ({ month }) => {\n\n  let startDate = dateFns.startOfWeek(month)\n\n  const shortWeekDaysArray = Array.from(Array(7)).map((e, i) => (<div className=\"col col-center\" key={i}>\n    {dateFns.format(dateFns.addDays(startDate, i), \"EEEEEE\")}\n  </div> ))\n\n  return(\n    <div className=\"days row\">{shortWeekDaysArray}</div>\n  )\n}\n\nconst Cells = ({ month, dates }) => {\n\n  const monthStart = dateFns.startOfMonth(month)\n  const monthEnd = dateFns.endOfMonth(monthStart)\n  const startDate = dateFns.startOfWeek(monthStart)\n  const endDate = dateFns.endOfWeek(monthEnd)\n\n  const dateFormat = \"d\"\n  const rows = []\n\n  let days = []\n  let day = startDate\n  let formattedDate = \"\"\n\n  while(day <= endDate){\n    for(let i = 0; i<7; i++){\n      formattedDate = dateFns.format(day, dateFormat)\n      const cloneDay = day\n      days.push(\n        <CalendarDate key={cloneDay} formattedDate = {formattedDate} day={cloneDay} monthStart={monthStart} dates={dates}/>\n      )\n      day = dateFns.addDays(day, 1)\n    }\n    rows.push(\n      <div className=\"row\" key={day}>\n        {days}\n      </div>\n    )\n    days=[]\n  }\n\n  return(\n    <div className=\"body\">{rows}</div>\n  )\n\n}\n\nconst CalendarDate = ({ formattedDate, day, monthStart, dates }) => {\n  const event = dates.find(date => dateFns.format( new Date(date.date), \"DDD\") === dateFns.format(day, \"DDD\"))\n  return(\n    <div\n      id={`dates-${formattedDate}`}\n      className={`col cell ${!dateFns.isSameMonth(day, monthStart) ? \"disabled\" : \"\"}`}\n      key={day}\n    >\n      <span className=\"number\">{formattedDate}</span>\n      <span className=\"bg\">{formattedDate}</span>\n      <div>\n        {event ? event.name : null}\n      </div>\n    </div>\n  )\n}\n\nexport default PreviewCalendar","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nconst Events = ({ events }) => {\n  const displayEvents = events.map(event => (<li key={event.id}><Link to={`/events/${event.id}`}>{event.name}</Link></li>))\n\n  return(\n    <div>\n      <ul>\n        {displayEvents}\n      </ul>\n    </div>\n  )\n}\n\nexport default Events","import React, { useEffect } from \"react\"\nimport PreviewCalendar from \"./PreviewCalendar\"\nimport Events from \"./Events\"\nimport Button from \"react-bootstrap/Button\"\nimport { Link } from \"react-router-dom\"\nimport { useQuery } from \"@apollo/client\"\nimport { USER_EVENTS } from \"../graphql/queries\"\nimport Loader from \"./Loader\"\n\n\nconst HomePage = ({ logout }) => {\n  const user= useQuery(USER_EVENTS)\n  if(user.data){\n    console.log(user.data.me.events)\n  }\n  useEffect(() => {\n    if(user.error){\n      if(user.error.message===\"user needs to be logged in\"){\n        logout()\n      }\n    }\n\n  },[user])\n  if(!user.data){\n    return(\n      <Loader/>\n    )\n  }\n\n  return(\n    <div>\n      <h2>Hello {user.data.me.name} </h2>\n      <PreviewCalendar events={user.data.me.events} />\n      <Events events={user.data.me.events}/>\n      <Button id=\"addEvent-button\"><Link to=\"/addevent\">add event</Link></Button>\n      <button id=\"logout-button\"onClick={logout}>Log Out</button>\n      <button id=\"addGroup-button\"><Link to=\"/addGroup\">add group</Link></button>\n      <button id=\"groups-button\"><Link to=\"/groups\">groups</Link></button>\n      <button id=\"join-group-button\"><Link to=\"/joinGroup\">join group</Link></button>\n    </div>\n  )\n}\n\nexport default HomePage","import React from \"react\"\nimport { useQuery } from \"@apollo/client\"\nimport { USER_GROUPS } from \"../graphql/queries\"\nimport { Link } from \"react-router-dom\"\nimport Loader from \"./Loader\"\nconst Groups = () => {\n  const groups = useQuery(USER_GROUPS)\n  const displayGroups = groups.data ? groups.data.me.groups.map(group => (<li key={group.name}><Link to ={`/groups/${group.id}`}>{group.name}</Link></li>)) : []\n  if(!groups.data){\n    return(\n      <Loader/>\n    )\n  }\n  if(displayGroups.length === 0 && groups.data){\n    return(\n      <div>\n        <h2>{\"It seems you aren't part any group yet\"}</h2>\n        <h2><Link to=\"/joinGroup\">Join Here</Link></h2>\n      </div>\n    )\n  }\n  return(\n    <div>\n      <ul>\n        {displayGroups}\n      </ul>\n    </div>\n  )\n}\n\nexport default Groups","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nconst Users = ({ users }) => {\n  const displayUsers = users.map(user => (<li key={user.id}><Link to={`/users/${user.username}`}>{user.name}</Link></li>))\n\n  return(\n    <div>\n      <ul>\n        {displayUsers}\n      </ul>\n    </div>\n  )\n}\n\nexport default Users","import React from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport { useQuery, useMutation } from \"@apollo/client\"\nimport { GET_GROUP, GROUPS_THAT_USER_IS_NOT_IN, USER_ID } from \"../graphql/queries\"\nimport Users from \"./Users\"\nimport Loader from \"./Loader\"\nimport { LEAVE_GROUP } from \"../graphql/mutations\"\nimport { Link, useHistory } from \"react-router-dom\"\n\nconst Group = ({ setNotification }) => {\n  const history = useHistory()\n  const user = useQuery(USER_ID)\n  console.log(user.data)\n  const [leaveGroup] = useMutation(LEAVE_GROUP, {\n    update: (store, response) => {\n      console.log(response)\n      const dataInStore = store.readQuery({ query: GROUPS_THAT_USER_IS_NOT_IN })\n      if(dataInStore){\n        store.writeQuery({\n          query: GROUPS_THAT_USER_IS_NOT_IN,\n          data: {\n            me: {\n              ...dataInStore.me,\n              groupsUserNotIn: dataInStore.me.groupsUserNotIn.concat(response.data.leaveGroup)\n            }\n          }\n        })\n        console.log(response.data)\n        store.modify({\n          id: `User:${user.data.me.id}`,\n          fields: {\n            groups(listInCache){\n              return listInCache.filter(group => group.__ref !== `Group:${response.data.leaveGroup.id}`)\n            }\n          }\n        })\n      }\n    }\n  })\n  const id= useParams().id\n  const group = useQuery(GET_GROUP, { variables: { id } })\n  const leave = async () => {\n    await leaveGroup({ variables: { id: group.data.group.id } })\n    setNotification({ message: `Left group ${group.data.group.name}`, error: false })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n    history.push(\"/\")\n  }\n  if(!group.data){\n    return(\n      <Loader/>\n    )\n  }\n  return(\n    <div>\n      <span>\n        { group.data.group.name }\n        <button onClick={ leave }>leave</button>\n      </span>\n      <Users users = {group.data.group.users}/>\n      <button id=\"homepage-button\"> <Link to=\"/\">Home Page</Link></button>\n    </div>\n  )\n}\n\nexport default Group","import React from \"react\"\nimport { useQuery } from \"@apollo/client\"\nimport { useParams } from \"react-router-dom\"\nimport { GET_USER } from \"../graphql/queries\"\n\nconst Event = () => {\n  const username = useParams().username\n  const user = useQuery(GET_USER, { variables: { username } })\n  console.log(user)\n  if(!user.data){\n    return(\n      <div>\n        ...loading\n      </div>\n    )\n  }\n\n  return(\n    <div>\n      {user.data.user.name}\n    </div>\n  )\n}\n\nexport default Event","import React from \"react\"\nimport { useQuery, useMutation } from \"@apollo/client\"\nimport { GROUPS_THAT_USER_IS_NOT_IN } from \"../graphql/queries\"\nimport { JOIN_GROUP } from \"../graphql/mutations\"\nimport { Link } from \"react-router-dom\"\nimport Loader from \"./Loader\"\nimport { USER_GROUPS, USER_ID } from \"../graphql/queries\"\n\nconst JoinGroupElement = ({ group, user }) => {\n  const [ join ] = useMutation(JOIN_GROUP, {\n    update: (store, response) => {\n      const dataInStore = store.readQuery({ query: USER_GROUPS })\n      console.log(dataInStore)\n      console.log(response)\n      if(dataInStore){\n        store.writeQuery({\n          query: USER_GROUPS,\n          data: {\n            me:{\n              ...dataInStore.me,\n              groups: dataInStore.me.groups.concat(response.data.joinGroup)\n            }\n          }\n        })\n      }\n      console.log(user.id)\n      store.modify({\n        id: `User:${user.id}`,\n        fields: {\n          groupsUserNotIn(listInCache) {\n            return listInCache.filter(group => group.__ref !== `Group:${response.data.joinGroup.id}`)\n          }\n        }\n      })\n    }\n  })\n\n  return(\n    <li>\n      <span>\n        {group.name}\n        <button onClick={() => join({ variables: { id: group.id } })}>Join</button>\n      </span>\n    </li>\n  )\n}\n\nconst JoinGroup = () => {\n  const groups = useQuery(GROUPS_THAT_USER_IS_NOT_IN)\n  const user = useQuery(USER_ID)\n  if(!groups.data || !user.data){\n    return(\n      <Loader/>\n    )\n  }\n  return (\n    <div>\n      Hello World\n      <ul>\n        {groups.data ? groups.data.me.groupsUserNotIn.map(group => (<JoinGroupElement key = {group.id} group={group} user= {user.data.me}/>)) : null }\n      </ul>\n      <button id=\"homepage-button\"> <Link to=\"/\">Home Page</Link></button>\n    </div>\n  )\n}\n\nexport default JoinGroup","import React from \"react\"\n\nconst Notification= ({ notification }) => {\n  if(notification===null){\n    return null\n  }\n  let style = \"success\"\n  if(notification.error){\n    style=\"error\"\n  }\n  return(\n    <div id=\"notification\"className={style}>\n      {notification.message}\n    </div>\n  )\n}\n\nexport default Notification","import { useApolloClient ,useMutation } from \"@apollo/client\"\nimport { LOGIN, SIGN_IN } from \"../graphql/mutations\"\nimport { useHistory } from \"react-router-dom\"\n\n\nconst useLogin = (setToken, setNotification) => {\n  const history = useHistory()\n  const client = useApolloClient()\n  console.log(\"history\", history)\n  const getErrorMessage = (message) => {\n    if(message.startsWith(\"User validation failed: username:\")){\n      if(message.includes(\"unique\")){\n        return \"Username needs to be unique\"\n      }\n    }\n    return message\n  }\n  const [ signInMutation] = useMutation(SIGN_IN, {\n    onError: (error) => {\n      let message = getErrorMessage(error.graphQLErrors[0].message)\n      setNotification({ message, error: true })\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n    }\n\n  })\n  const [ loginMutation ] = useMutation(LOGIN, {\n    onError: (error) => {\n      setNotification({ message: error.graphQLErrors[0].message, error: true })\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n    }\n  })\n\n  const login = async ({ username, password }) => {\n    const result = await loginMutation({ variables: { username, password } })\n    console.log(result)\n    if(result.data.login.value){\n      setToken(result.data.login.value)\n      localStorage.setItem(\"user-token\", result.data.login.value)\n      history.push(\"/\")\n    }\n\n  }\n\n  const logout =  () => {\n    setToken(null)\n    localStorage.clear()\n    client.resetStore()\n  }\n\n  const signIn = async( username, name, password ) => {\n    const result = await signInMutation({ variables: { username, name, password } })\n    return result\n  }\n\n\n\n  return{\n    login,\n    logout,\n    signIn\n  }\n}\n\nexport default useLogin","\nimport Login from \"./components/Login\"\nimport React, { useState } from \"react\"\nimport SignIn from \"./components/SignIn\"\n\nimport AddEvent from \"./components/AddEvent\"\nimport AddGroup from \"./components/AddGroup\"\nimport Event from \"./components/Event\"\nimport HomePage from \"./components/HomePage\"\nimport Groups from \"./components/Groups\"\nimport Group from \"./components/Group\"\nimport User from \"./components/User\"\nimport JoinGroup from \"./components/JoinGroup\"\nimport Notification from \"./components/Notification\"\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\"\n\nimport useLogin from \"./hooks/useLogin\"\n\n\nconst App = () => {\n  const [ notification, setNotification ] = useState(null)\n\n\n\n  return (\n    <div>\n      <Notification notification={notification}/>\n      <Router>\n        <AppRouter setNotification={setNotification}/>\n      </Router>\n    </div>\n\n  )\n}\n\nconst AppRouter = ({ setNotification }) => {\n  const [token, setToken] = useState(localStorage.getItem(\"user-token\"))\n  const { logout, login, signIn } = useLogin(setToken, setNotification)\n  return(\n    <Switch>\n      <Route path=\"/joinGroup\">\n        {token ? <JoinGroup/> : <Redirect to=\"/login\"/> }\n      </Route>\n      <Route path=\"/users/:username\">\n        {token ? <User/>: <Redirect to=\"/login\"/>}\n      </Route>\n      <Route path =\"/groups/:id\">\n        { token ? <Group setNotification={setNotification}/>: <Redirect to=\"/login\"/>}\n      </Route>\n      <Route path=\"/groups\">\n        {token ? <Groups/> : <Redirect to=\"/login\"/> }\n      </Route>\n      <Route path=\"/addGroup\">\n        { token ? <AddGroup/> : <Redirect to=\"/login\"/> }\n      </Route>\n      <Route path=\"/SignIn\">\n        <SignIn login = {login} signIn = {signIn}/>\n      </Route>\n      <Route path=\"/login\">\n        <Login login = {login} />\n      </Route>\n      <Route path=\"/events/:id\">\n        {token ? <Event setNotification={setNotification}/> : <Redirect to=\"/login\"/> }\n      </Route>\n      <Route path=\"/addevent\">\n        {token ? <AddEvent setNotification={setNotification}/> : <Redirect to=\"/login\"/>}\n      </Route>\n      <Route path=\"/\">\n        {token ? <HomePage logout={logout}/> : <Redirect to=\"/login\"/>}\n      </Route>\n    </Switch>\n  )\n}\n\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport { setContext } from \"apollo-link-context\"\nimport { ApolloProvider, ApolloClient, HttpLink, InMemoryCache } from \"@apollo/client\"\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem(\"user-token\")\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `bearer ${token}` : null,\n    }\n  }\n})\n\nconst httpLink = new HttpLink({ uri: \"/graphql\" })\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: authLink.concat(httpLink)\n})\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById(\"root\"))\n"],"sourceRoot":""}